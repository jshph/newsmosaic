<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link rel="stylesheet/less" type="text/css" href="styles.less"/>
    <script type="text/javascript" src="less.min.js"></script>
</head>
<body>


<!-- <div class="hex">
    <div class="left"></div>
    <div class="middle"></div>
    <div class="right"></div> 
    <div id="keywords">
    </div>
</div> -->

<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript">

$(document).ready(function() {

for (var i = 0; i < 4; i++) {
    var newRow = document.createElement('div');
    $(newRow).addClass('hex-row');
    for (var j = 0; j < 4; j++) {
        var newHex = document.createElement('div');
        $(newHex).html('<div class="left"></div><div class="middle"></div><div class="right"></div>'); //hexagon geometry
        $(newHex).addClass('hex');
        if (j % 2 == 0) $(newHex).addClass('even');

        $kw = $(document.createElement('div')).addClass('keywords');
        renderWords($kw);
        $(newHex).append($kw);
        $(newHex).appendTo($(newRow));
    }
    $(newRow).appendTo($('body'));
}
//var $kw = $('#keywords');

function renderWords($kw) {

var words = ['trump', 'candidate', '2016 presidential race', 'polls', 'republican'];
var FONT_MAXSIZE = 16;

words.forEach(function(word, index) {
    var line = document.createElement('p');
    var fontSize = FONT_MAXSIZE - Math.abs(Math.floor(words.length/2) - index) * 3;

    $(line).text(word);
    $(line).css('font-size', fontSize + 'pt');
    $kw.append($(line));
});

setInterval(function rotateWords() {
    $pChildren = $kw.children('p');

    var first = $pChildren.first();

    $pChildren.addClass('moveUp');

    $pChildren.each(function(index, word) {
        var fontSize = FONT_MAXSIZE - Math.abs(Math.floor(words.length/2) - index + 1) * 3;
        $(word).css('font-size', fontSize + 'pt');
    })

    $pChildren.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd", function(){
        $pChildren.removeClass('moveUp');
        first.remove();
        $kw.append(first);
    });
}, 1000);


}

});

</script>
</body>
</html>